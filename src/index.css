@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: Inter, system-ui, sans-serif;
  }
  
  body {
    /* Change from gray-50 to our custom parchment-light color */
    @apply bg-parchment-light text-ink-dark;
  }
  
  /* Modern typography improvements */
  h1, h2, h3, h4, h5, h6 {
    @apply tracking-tight leading-tight;
  }
  
  /* Modern serif for headings, sans-serif for body */
  h1, h2, h3, h4 {
    @apply font-serif font-bold;
  }
  
  /* Improve body text readability */
  p, span, div {
    @apply leading-relaxed tracking-wide;
  }
  
  /* Consistent link styling */
  a {
    @apply transition-colors duration-200;
  }
}

/* Texture backgrounds */
.bg-wood-texture {
  background-image: url('/textures/wood-grain.jpg');
  background-size: cover;
  position: relative;
}

/* Add glowing accent in overlay */
.bg-wood-texture::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(130, 82, 228, 0.1) 0%, rgba(125, 95, 69, 0.3) 100%);
  pointer-events: none;
}

.bg-parchment-texture {
  background-image: url('/textures/parchment.jpg');
  background-size: cover;
  background-position: center;
  position: relative;
}

/* Add subtle purple tint to parchment */
.bg-parchment-texture::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to right, rgba(130, 82, 228, 0.03), transparent);
  pointer-events: none;
}

.bg-paper-texture {
  background-color: #efe8d7;
  background-image: linear-gradient(#e5dbc1 1px, transparent 1px), linear-gradient(to right, #e5dbc1 1px, #efe8d7 1px);
  background-size: 20px 20px;
  position: relative;
}

/* Add index card style with modern touch */
.bg-index-card {
  background-image: url('/textures/index-card.png');
  background-size: cover;
  background-position: center;
  position: relative;
  transition: all 0.2s ease-in-out;
}

/* Add purple glow on hover */
.bg-index-card:hover::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(130, 82, 228, 0.05) 0%, transparent 100%);
  pointer-events: none;
}

/* Add notebook paper texture with purple accent */
.bg-notebook-paper {
  background-image: url('/textures/notebook-paper.jpg');
  background-size: cover;
  background-position: top center;
  position: relative;
}

.bg-notebook-paper::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 100%;
  background-color: rgba(130, 82, 228, 0.5);
  pointer-events: none;
}

/* Glass effect utilities */
.glass-effect {
  @apply bg-opacity-20 backdrop-filter backdrop-blur-sm bg-clip-padding backdrop-saturate-150;
}

/* Warpcast glow utilities */
.warpcast-glow {
  box-shadow: 0 0 15px rgba(130, 82, 228, 0.3);
}

.warpcast-glow-sm {
  box-shadow: 0 0 8px rgba(130, 82, 228, 0.2);
}

/* Improve text contrast over textured backgrounds */
.bg-parchment-texture > *,
.bg-wood-texture > *,
.bg-index-card > *,
.bg-notebook-paper > * {
  position: relative;
  z-index: 2;
}

/* Improve card styling with modern touch */
.evermark-card {
  @apply bg-index-card rounded-lg shadow-sm border border-wood-light p-4 transition-all duration-300 hover:shadow-md hover:warpcast-glow-sm;
}

.evermark-card h3 {
  @apply font-serif font-bold text-lg text-ink-dark mb-2;
}

.evermark-card p {
  @apply font-serif text-sm text-ink-light leading-relaxed;
}

/* Techno-parchment style for content containers */
.techno-parchment {
  @apply bg-parchment-texture border border-warpcast/20 rounded-lg shadow-lg relative overflow-hidden;
}

.techno-parchment::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 40%;
  height: 5px;
  background: linear-gradient(to right, transparent, rgba(130, 82, 228, 0.5));
  pointer-events: none;
}

/* Animated highlight for active elements */
@keyframes warpcast-pulse {
  0% { box-shadow: 0 0 0 0 rgba(130, 82, 228, 0.4); }
  70% { box-shadow: 0 0 0 10px rgba(130, 82, 228, 0); }
  100% { box-shadow: 0 0 0 0 rgba(130, 82, 228, 0); }
}

.warpcast-pulse {
  animation: warpcast-pulse 2s infinite;
}
