@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base Styles ===== */
@layer base {
  body {
    @apply bg-gray-50 text-gray-900;
    transition: background-color 0.3s, color 0.3s;
  }
  
  body.dark-mode {
    @apply bg-gray-900 text-gray-100;
  }
  
  /* Typography */
  h1, .text-responsive-title {
    @apply font-serif text-2xl sm:text-3xl md:text-4xl font-bold leading-tight text-ink-dark dark:text-parchment-light tracking-tight;
  }
  
  h2, .text-responsive-card-title {
    @apply font-serif text-xl sm:text-2xl font-semibold leading-tight text-ink-dark dark:text-parchment-light tracking-tight;
  }
  
  h3 {
    @apply font-serif text-lg font-semibold leading-tight text-ink-dark dark:text-parchment-light;
  }
  
  p {
    @apply font-serif text-ink leading-relaxed dark:text-parchment tracking-wide;
  }
  
  /* Links */
  a:not(.btn) {
    @apply text-warpcast hover:text-warpcast-dark dark:text-warpcast-light dark:hover:text-warpcast transition-colors duration-200 underline-offset-2 hover:underline;
  }
}

/* ===== Components ===== */
@layer components {
  /* Sidebar */
  .sidebar {
    @apply fixed top-0 left-0 w-72 h-full z-40 overflow-y-auto transition-transform duration-300 ease-in-out;
  }
  
  .sidebar-closed {
    @apply -translate-x-full;
  }
  
  /* Textured backgrounds */
  .bg-wood-texture {
    background-image: url('/textures/wood-grain.jpg');
    @apply bg-cover bg-center relative;
  }
  
  .bg-wood-texture::after {
    content: '';
    @apply absolute inset-0 bg-black bg-opacity-70 z-0;
  }
  
  .bg-wood-texture > * {
    @apply relative z-10;
  }
  
  .bg-notebook-paper {
    background-image: url('/textures/notebook-paper.jpg');
    @apply bg-cover bg-center relative;
  }
  
  .bg-notebook-paper::after {
    content: '';
    @apply absolute inset-0 bg-white bg-opacity-70 z-0;
  }
  
  .dark-mode .bg-notebook-paper::after {
    @apply bg-black bg-opacity-50;
  }
  
  .bg-parchment-texture {
    background-image: url('/textures/parchment.jpg');
    @apply bg-cover bg-center relative;
  }
  
  .bg-parchment {
    background-image: url('/textures/parchment.jpg');
    @apply bg-cover bg-center relative;
  }
  
  .bg-index-card {
    background-image: url('/textures/index-card.png');
    @apply bg-cover bg-center relative;
  }
  
  /* Button styles */
  .btn {
    @apply px-4 py-2 rounded transition-colors duration-200 inline-flex items-center justify-center;
  }
  
  .btn-primary {
    @apply bg-purple-600 text-white hover:bg-purple-700;
  }
  
  .btn-secondary {
    @apply bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600;
  }
  
  .btn-icon {
    @apply p-2 rounded-full;
  }
  
  /* Dark mode toggle */
  .dark-toggle {
    @apply p-2 rounded-full bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-yellow-200 dark:hover:bg-gray-600;
  }
}

/* ===== Utilities ===== */
@layer utilities {
  .content-container {
    @apply w-full max-w-4xl mx-auto px-4;
  }
  
  .content-centered {
    @apply flex flex-col items-center justify-center;
  }
  
  /* Animation utilities */
  .animate-page-in {
    animation: pageIn 0.4s ease-out forwards;
  }
  
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out forwards;
  }
  
  .animate-text-in {
    animation: textIn 0.5s ease-out forwards;
  }
  
  .animate-gradient-x {
    animation: gradientX 3s ease infinite;
  }
  
  .bg-size-200 {
    background-size: 200% 100%;
  }
}

/* ===== Animations ===== */
@keyframes pageIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes textIn {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gradientX {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Fix for the border-t and border-r corner fold */
.border-t-16 {
  border-top-width: 16px;
}
.border-r-16 {
  border-right-width: 16px;
}